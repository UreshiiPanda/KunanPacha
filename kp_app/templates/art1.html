
{% extends "base.html" %} 

{% block content %}

    {% load static %}


    <div x-data id="art-content" class="font-{{ page_settings.font|default:'sans-serif' }} text-{{ page_settings.font_color|default:'black' }}">

          <!-- Debug output -->
  <p class="hidden">
    Font: {{ page_settings.font|default:'sans-serif' }}, 
    Color: {{ page_settings.font_color|default:'black' }}
  </p>

        <!-- Modal backdrop -->
        <div xcloak x-show="$store.editPageModal.showModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <!-- Modal content -->
          <div x-show="$store.editPageModal.showModal" 
               x-transition:enter="transition ease-out duration-300"
               x-transition:enter-start="opacity-0 scale-90"
               x-transition:enter-end="opacity-100 scale-100"
               x-transition:leave="transition ease-in duration-300"
               x-transition:leave-start="opacity-100 scale-100"
               x-transition:leave-end="opacity-0 scale-90"
               class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4">
            
            <h2 class="text-2xl font-bold mb-4">Edit Page Settings</h2>
            
            <form 
                hx-post="{% url 'art1_page_edit' %}" 
                hx-target="#art-content"
                hx-swap="innerHTML"
                >
              <input type="hidden" name="page_url" value="{{ request.path }}">
              
              <div class="mb-4">
                <label for="font" class="block text-sm font-medium text-gray-700">Font</label>
                <input type="text" id="font" name="font" required
                       placeholder="Enter font (eg: sans-serif)"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
              </div>
        

                <div class="mb-4">
                  <label for="font_color" class="block text-sm font-medium text-gray-700">Font Color</label>
                  <input type="text" id="font_color" name="font_color" required
                         placeholder="Enter font color (eg: red-500)"
                         class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                </div>


              <div class="mb-4">
                <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                <input type="email" id="email" name="email" required
                       placeholder="Enter your email"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
              </div>
              
              <div class="flex justify-end space-x-3">
                <button type="button" 
                         @click="$store.editPageModal.toggle()" 
                         class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300">
                  Cancel
                </button>
                <button type="submit"
                         @click="$store.editPageModal.toggle()" 
                        class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300">
                  Save Changes
                </button>
              </div>
            </form>
          </div>
        </div>



        <div class="container mx-auto mt-24 px-4">
            <div class="flex flex-wrap justify-between">
                {% for image in images %}
                <div class="flex flex-col items-center mx-auto md:w-1/2 lg:w-1/3 p-4">
                    <div
                        hx-get="{% url 'art2' %}"
                        hx-swap="innerHTML" 
                        hx-target="#art-content"
                        hx-push-url="/art2"
                        class="relative border-2 border-black hover:cursor-pointer overflow-hidden h-[275px] w-[275px] md:h-[325px] md:w-[325px] lg:h-[300px] lg:w-[300px]">
                        <!--  href= url 'art2' image.id   -->
                        <!-- href= url 'art2' -->
                            <img src="{% static 'kp_app/images/' %}{{ image }}" alt="{{ image }}" class="p-4 h-full w-full object-cover">
                    </div>
                    <div class="p-4 flex w-[275px] md:w-[325px] lg:w-[300px] justify-between">
                        <h3 class="text-lg text-center m-2">Image Title</h3>
                        <a href="{{page_settings.edu_email}}" class="inline-block text-gray-600 hover:text-gray-900 transition-colors duration-300">
                            <svg class="h-10 w-10 text-black" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z"/>
                                <rect x="3" y="5" width="18" height="14" rx="1" />
                                <polyline points="3 7 12 13 21 7" />
                            </svg>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

    </div>



{% endblock %}

