
    {% load static %}


    <div x-data id="art-content">


        <!-- Modal backdrop -->
        <div x-cloak x-show="$store.editPageModal.showModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <!-- Modal content -->
          <div x-show="$store.editPageModal.showModal" 
               x-transition:enter="transition ease-out duration-300"
               x-transition:enter-start="opacity-0 scale-90"
               x-transition:enter-end="opacity-100 scale-100"
               x-transition:leave="transition ease-in duration-300"
               x-transition:leave-start="opacity-100 scale-100"
               x-transition:leave-end="opacity-0 scale-90"
               class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4">
            
            <h2 class="text-2xl font-bold mb-4">Edit Page Settings</h2>
            
            <form 
                hx-post="{% url 'art1_page_edit' %}" 
                hx-target="#art-content"
                >
                {% csrf_token %}
              <input type="hidden" name="page_url" value="{{ request.path }}">
              
              <div class="mb-4">
                <label for="font" class="block text-sm font-medium text-gray-700">Font</label>
                <input type="text" id="font" name="font" 
                    placeholder="Enter font (eg: sans-serif)"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
              </div>
        

                <div class="mb-4">
                  <label for="font_color" class="block text-sm font-medium text-gray-700">Font Color</label>
                  <input type="text" id="font_color" name="font_color" 
                         placeholder="Enter font color (eg: red-500)"
                         class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                </div>


                
                <div class="mb-4">
                  <label for="font_style" class="block text-sm font-medium text-gray-700">Font Style</label>
                  <input type="text" id="font_style" name="font_style" 
                         placeholder="Enter font type (eg: bold, italic, normal)"
                         class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                </div>




              <div class="mb-4">
                <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                <input type="email" id="email" name="email"
                       placeholder="Enter your email"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
              </div>

              <div class="mt-6 flex space-x-4">
                <button type="button" 
                    @click="$store.editPageModal.toggle()" 
                    class="flex-1 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-white hover:text-black hover:border-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black">
                    Cancel
                </button>

                <button 
                    type="submit"
                    @click="$store.editPageModal.toggle()" 
                    class="flex-1 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-white hover:text-black hover:border-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black">
                    Submit
                </button>
              </div>


            </form>
          </div>
        </div>



        <!-- import dynamic fonts here -->
        <!-- this is a weird Tailwind bug where it has to read the actual static name of the class somewhere
             before it can handle dynamic classes like this. So you have to list off every class that
             the dynamic class may possibly be for that value to work in the app
        -->
        <div x-data="{
                currentFontStyle: '{{page_settings.font_style}}',
                currentFont: '{{page_settings.font}}',
                currentColor: '{{page_settings.font_color}}',
                fontVariants: {
                    'sans-serif': 'font-sans',
                    'serif': 'font-serif',
                    'mono': 'font-mono',
                    // Add more font variants as needed
                },
                colorVariants: {
                    'red-500': 'text-red-500',
                    'blue-500': 'text-blue-500',
                    'green-500': 'text-green-500',
                    'gray-900': 'text-gray-900',
                    'gray-800': 'text-gray-800',
                    'gray-700': 'text-gray-700',
                    'gray-600': 'text-gray-600',
                    'gray-500': 'text-gray-500',
                    'gray-400': 'text-gray-400',
                    'gray-300': 'text-gray-300',
                    'gray-200': 'text-gray-200',
                    'gray-100': 'text-gray-100',
                    'black': 'text-black',
                    'white': 'text-white',
                    // Add all possible color variants here
                    },
                styleVariants: {
                        'italic': 'italic',
                        'bold': 'font-bold',
                        'normal': '',
                    }
        }" 
                :class="[
                    styleVariants[currentFontStyle] || '',
                    fontVariants[currentFont] || 'font-sans', 
                    colorVariants[currentColor] || 'text-black', 
                    'container', 'mx-auto', 'mt-24', 'px-4'
                ]"
                >




            <div class="flex flex-wrap justify-between">
                {% for image in images %}
                <div class="flex flex-col items-center mx-auto md:w-1/2 lg:w-1/3 p-4">
                    <div
                        @click="$store.editPageModal.showModal = false" 
                        hx-get="{% url 'art2' %}"
                        hx-swap="innerHTML" 
                        hx-target="#art-content"
                        hx-push-url="/art2"
                        class="relative border-2 border-black hover:cursor-pointer overflow-hidden h-[275px] w-[275px] md:h-[325px] md:w-[325px] lg:h-[300px] lg:w-[300px]">
                        <!--  href= url 'art2' image.id   -->
                        <!-- href= url 'art2' -->
                            <img src="{% static 'kp_app/images/' %}{{ image }}" alt="{{ image }}" class="p-4 h-full w-full object-cover">
                    </div>
                    <div class="p-4 flex w-[275px] md:w-[325px] lg:w-[300px] justify-between">
                        <h3 class="text-lg text-center m-2">Image Title</h3>
                        <a href="mailto:{{page_settings.edu_email}}" class="inline-block text-gray-600 hover:text-gray-900 transition-colors duration-300">
                            <svg class="h-10 w-10 text-black" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z"/>
                                <rect x="3" y="5" width="18" height="14" rx="1" />
                                <polyline points="3 7 12 13 21 7" />
                            </svg>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

    </div>



