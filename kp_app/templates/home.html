{% extends "base.html" %} 

{% block content %}

    {% load static %}
    {% static 'kp_app/images/bg1.jpg' as bg_url %}
    {% static 'kp_app/images/art1.jpg' as art1_url %}


    <!-- HOME PAGE SCREEN 1 -->
    <!-- this bg-image is for when you want it to be dynamically generated  -->

    <div  x-data="{home1_modal:false, home2_modal:false}"  id="home-content">

            <div 
                x-data="{home1_modal:true, home2_modal:false}"
                id="homepage1" 
                style="--home1-image-url: url('{{ bg_url }}')" 
                class="bg-[image:var(--home1-image-url)] 
                       mt-20 bg-no-repeat bg-fixed bg-cover h-screen w-screen flex flex-col justify-center items-center">


                <!-- Edit Page Modal -->
                <div xcloak x-show="$store.editPageModal.showModal && home1_modal && !home2_modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                  <div x-show="$store.editPageModal.showModal && home1_modal && !home2_modal" 
                       x-transition:enter="transition ease-out duration-300"
                       x-transition:enter-start="opacity-0 scale-90"
                       x-transition:enter-end="opacity-100 scale-100"
                       x-transition:leave="transition ease-in duration-300"
                       x-transition:leave-start="opacity-100 scale-100"
                       x-transition:leave-end="opacity-0 scale-90"
                       class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4">


                      <form id="imageForm" enctype="multipart/form-data" hx-post="/your-django-endpoint/" hx-encoding="multipart/form-data" hx-swap="outerHTML">
                        <div class="mb-4">
                          <label for="title" class="block text-sm font-medium text-gray-700">Title:</label>
                          <input type="text" id="title" name="title" value="Edu Suarez" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
<!--
                        <div class="mb-4">
                          <label for="text1" class="block text-sm font-medium text-gray-700">Text 1:</label>
                          <textarea id="text1" name="text1" rows="2" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">Lorem ipsum...</textarea>
                        </div>

                        <div class="mb-4">
                          <label for="text2" class="block text-sm font-medium text-gray-700">Text 2:</label>
                          <textarea id="text2" name="text2" rows="2" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">Lorem ipsum...</textarea>
                        </div>
-->
                        <div class="mb-4">
                          <label class="block text-sm font-medium text-gray-700 mb-2">Photos:</label>
                          <div class="flex space-x-4" id="imageContainer">
                            <div class="relative" id="imageWrapper1">
                              <input type="file" id="imageInput1" name="image1" accept="image/*" class="hidden" onchange="previewImage(this, 'imagePreview1')">
                              <img id="imagePreview1" src="placeholder.jpg" alt="Select Background Photo" class="w-24 h-24 object-cover rounded cursor-pointer" onclick="document.getElementById('imageInput1').click()">
                              <button type="button" class="absolute top-0 right-0 bg-white p-1 shadow-sm" onclick="removeImage('imageWrapper1')">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
                                  <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                                </svg>
                              </button>
                            </div>
                            <!-- Repeat for imageWrapper2 and imageWrapper3 -->
                          </div>
                        </div>

                      <div class="mt-6 flex space-x-4">
                        <button type="button" 
                            @click="$store.editPageModal.toggle()" 
                            @click="home1_modal = false" 
                            class="flex-1 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-white hover:text-black hover:border-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Cancel
                        </button>

                        <button 
                            type="submit"
                            @click="$store.editPageModal.toggle()" 
                            @click="home1_modal = false" 
                            class="flex-1 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-white hover:text-black hover:border-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Submit
                        </button>
                      </div>

                    </form>
                </div>
            </div>

                <!-- for image thumbnails & for removing them -->
                <script>
                    function previewImage(input, previewId) {
                      const file = input.files[0];
                      if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                          document.getElementById(previewId).src = e.target.result;
                        }
                        reader.readAsDataURL(file);
                      }
                    }

                    function removeImage(wrapperId) {
                      const wrapper = document.getElementById(wrapperId);
                      const input = wrapper.querySelector('input[type="file"]');
                      const img = wrapper.querySelector('img');
                      input.value = '';
                      img.src = 'placeholder.jpg';
                    }
                </script>




                    <!-- Horizontal lines with arrows -->
                    <h1 class="text-4xl font-extrabold text-white relative z-10 mb-6"> Home Page </h1>
                    <div class="absolute top-1/2 w-24 h-px bg-black left-1/4 transform -translate-y-1/2"></div>
                    <div class="absolute top-1/2 w-24 h-px bg-black right-1/4 transform -translate-y-1/2"></div>

                    <!-- Django example -->
                    <ul class="text-white">
                        {% for test in tests %}
                        <li>
                            {{tests.info}}: 
                                {% if test.ready %}
                                    Completed
                                {% else %}
                                    Not Completed
                                {% endif %}
                        </li>
                        {% endfor %}
                    </ul>

                    <!-- HTMX example -->
                    <div id="catfact" class="text-white"></div>
                    <button 
                        class="flex items-center px-3 py-2 m-3 border-2 border-white-200 bg-black text-white hover:text-black hover:bg-white hover:border-black"
                        hx-get="https://catfact.ninja/fact" 
                        hx-swap="innerHTML" 
                        hx-target="#catfact">
                        Get a random fact about cats
                    </button>

                    <!-- Alpine example -->
                    <div x-data="{ count: 0 }" class="text-white">
                        <button
                            class="flex items-center px-3 py-2 m-3 border-2 border-white-200 bg-black text-white-200 hover:text-black hover:bg-white hover:border-black"
                            x-on:click="count++">
                            Increment
                        </button>
                        <span x-text="count"></span>
                    </div>

            </div>


            <!-- HOME PAGE SCREEN 2 -->
            <div
                x-data="{home2_modal:true, home1_modal:false}" 
                id="homepage2" 
                class="grid grid-cols-2">



                <!-- Edit Page Modal -->
                <div xcloak x-show="$store.editPageModal.showModal && home2_modal && !home1_modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                  <div x-show="$store.editPageModal.showModal && home2_modal && !home1_modal" 
                       x-transition:enter="transition ease-out duration-300"
                       x-transition:enter-start="opacity-0 scale-90"
                       x-transition:enter-end="opacity-100 scale-100"
                       x-transition:leave="transition ease-in duration-300"
                       x-transition:leave-start="opacity-100 scale-100"
                       x-transition:leave-end="opacity-0 scale-90"
                       class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4">


                      <form id="imageForm2" enctype="multipart/form-data" hx-post="/your-django-endpoint/" hx-encoding="multipart/form-data" hx-swap="outerHTML">
                        <div class="mb-4">
                          <label for="homepage2_text" class="block text-sm font-medium text-gray-700">Home Page 2 Text:</label>
                          <input type="text" id="homepage2_text" name="homepage2_text" value="place text here" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
<!--
                        <div class="mb-4">
                          <label for="text1" class="block text-sm font-medium text-gray-700">Text 1:</label>
                          <textarea id="text1" name="text1" rows="2" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">Lorem ipsum...</textarea>
                        </div>

                        <div class="mb-4">
                          <label for="text2" class="block text-sm font-medium text-gray-700">Text 2:</label>
                          <textarea id="text2" name="text2" rows="2" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">Lorem ipsum...</textarea>
                        </div>
-->
                        <div class="mb-4">
                          <label class="block text-sm font-medium text-gray-700 mb-2">Photos:</label>
                          <div class="flex space-x-4" id="imageContainer2">
                            <div class="relative" id="image2Wrapper1">
                              <input type="file" id="image2Input1" name="homepage_2_image_1" accept="image/*" class="hidden" onchange="previewImage(this, 'imagePreview1')">
                              <img id="imagePreview2" src="placeholder.jpg" alt="Select Page 2 Photo" class="w-24 h-24 object-cover rounded cursor-pointer" onclick="document.getElementById('imageInput1').click()">
                              <button type="button" class="absolute top-0 right-0 bg-white p-1 shadow-sm" onclick="removeImage('imageWrapper1')">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
                                  <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                                </svg>
                              </button>
                            </div>
                            <!-- Repeat for imageWrapper2 and imageWrapper3 -->
                          </div>
                        </div>

                      <div class="mt-6 flex space-x-4">
                        <button type="button" 
                            @click="$store.editPageModal.toggle()" 
                            @click="home2_modal = false"
                            class="flex-1 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-white hover:text-black hover:border-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Cancel
                        </button>

                        <button 
                            type="submit"
                            @click="$store.editPageModal.toggle()" 
                            @click="home2_modal = false"
                            class="flex-1 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-white hover:text-black hover:border-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Submit
                        </button>
                      </div>

                    </form>
                </div>
            </div>

                <!-- for image thumbnails & for removing them -->
                <script>
                    function previewImage(input, previewId) {
                      const file = input.files[0];
                      if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                          document.getElementById(previewId).src = e.target.result;
                        }
                        reader.readAsDataURL(file);
                      }
                    }

                    function removeImage(wrapperId) {
                      const wrapper = document.getElementById(wrapperId);
                      const input = wrapper.querySelector('input[type="file"]');
                      const img = wrapper.querySelector('img');
                      input.value = '';
                      img.src = 'placeholder.jpg';
                    }
                </script>





              <div class="flex items-center justify-center">
                <p class="text-center">Your text goes here.</p>
              </div>
              <div 
                style="--home2-image-url: url('{{ art1_url }}')" 
                class="bg-[image:var(--home2-image-url)] 
                       bg-no-repeat bg-fixed bg-cover h-screen w-screen flex flex-col justify-center items-center"> 
              </div>
            </div>


            <!-- HOME PAGE SCREEN 3 -->
            <div id="homepage3" class="h-screen w-screen flex items-center justify-center">
              <p class="text-center italic">Your text goes here.</p>
            </div>


            <!-- HOME PAGE SCREEN 4 -->
            <div id="homepage4" class="grid grid-cols-2">
              <div 
                style="--home2-image-url: url('{{ art1_url }}')" 
                class="bg-[image:var(--home2-image-url)] 
                       bg-no-repeat bg-cover bg-center h-screen"> 
              </div>
              <div class="flex items-center justify-center">
                <p class="text-center">Your text goes here.</p>
              </div>
            </div>


            <!-- HOME PAGE SCREEN 5 -->
                <div id="contact" style="--home2-image-url: url('{{ art1_url }}')" class="bg-[image:var(--home2-image-url)] bg-no-repeat bg-cover bg-center h-screen w-screen relative">
                  <div class="absolute inset-0 flex flex-col items-center justify-center">
                    <h1 class="text-4xl font-bold mb-8">Contact</h1>
                    <div class="bg-white p-8  w-5/6 h-2/3 md:w-4/5 md:h-1/2 lg:w-3/4 lg:h-1/2 xl:h-1/2 flex flex-col sm:flex-row">
                       <div class="w-full sm:w-1/2 mb-8 pr-4 flex flex-col items-center justify-center space-y-6 sm:space-y-8">
                            <div class="flex">
                              <div class="w-1/3 pl-2 flex flex-col justify-center items-start space-y-4">
                                <p>Address:</p>
                                <p>Email:</p>
                                <p>Phone:</p>
                              </div>
                              <div class="w-2/3 pl-6 flex flex-col justify-center items-start space-y-4">
                                <p>123 Mountain Street, Villcabamba, Ecuador, 12345</p>
                                <p>contact@example.com</p>
                                <p>123-456-7890</p>
                              </div>
                            </div>
                            <div class="flex justify-center space-x-4 sm:space-x-6">
                              <a href="https://www.instagram.com/your_username" target="_blank" class="mr-2">
                                <svg class="h-10 w-10 text-slate-900" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                  <rect x="2" y="2" width="20" height="20" rx="5" ry="5" />
                                  <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" />
                                  <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" />
                                </svg>
                              </a>
                              <a href="https://www.facebook.com/your_username" target="_blank" class="mr-2">
                                <svg class="h-10 w-10 text-slate-900" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                  <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" />
                                </svg>
                              </a>
                              <a href="https://www.tiktok.com/@your_username" target="_blank">
                                <svg class="h-10 w-10 text-slate-900" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" />
                                </svg>
                              </a>
                            </div>  
                        </div>
                      <div class="w-full sm:w-1/2 pl-4 flex flex-col items-center justify-center">
                        <form 
                            id="email-form" 
                            class="w-full" 
                            hx-post="{% url 'send_email' %}" 
                            hx-swap="none"
                            >
                            {% csrf_token %}
                              <div class="mb-8">
                                <label class="block text-black font-bold" for="name-input">
                                  Name
                                </label>
                                <input class="appearance-none border-b border-black w-full px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="name-input" name="name" type="text" >
                              </div>
                              <div class="mb-8">
                                <label class="block text-black font-bold" for="email-input">
                                  Email
                                </label>
                                <input class="appearance-none border-b border-black w-full px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email-input" name="email" type="email" >
                              </div>
                              <div class="mb-8">
                                <label class="block text-black font-bold" for="msg-input">
                                  Message
                                </label>
                                <textarea class="appearance-none border-b border-black w-full px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="msg-input" name="message" rows="3" ></textarea>
                              </div>
                              <div class="flex">
                                  <div class="flex-grow"></div>
                                  <button class="ml-auto bg-white hover:bg-black hover:border-white border-2 border-black hover:text-white text-black font-bold py-2 px-4 focus:outline-none focus:shadow-outline" type="submit">
                                      Submit
                                  </button>
                            </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>





                <!-- Email Alerts Event Listeners -->
                <!--
                <script>
                     document.body.addEventListener("emailSuccess", function(evt){
                        console.log("email alert success");
                        alert("Email successfully sent");
                     }) 
                     document.body.addEventListener("emailFailureFields", function(evt){
                        console.log("email alert failure input fields");
                        alert("Please make sure all input fields are entered and valid");
                     }) 
                     document.body.addEventListener("emailFailureHeaders", function(evt){
                        console.log("email alert failure header fields");
                        alert("Email sending failed due to server issues");
                     }) 
                </script>
                -->

    </div>


{% endblock %}

